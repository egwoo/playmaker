:root{color-scheme:light;--bg: #f4efe6;--ink: #1b1f1a;--muted: #5a6157;--panel: #fffaf2;--panel-border: rgba(26, 32, 27, .12);--accent: #f7b84b;--accent-strong: #d48418;--accent-cool: #76d1ff;--shadow: 0 20px 50px rgba(17, 18, 14, .12)}*{box-sizing:border-box}body{margin:0;font-family:Outfit,system-ui,sans-serif;background:radial-gradient(circle at top right,#f8f0d8,#efe7d8 45%,#e5dfd4);color:var(--ink);overflow-y:scroll;scrollbar-gutter:stable}#app{min-height:100vh;display:flex;flex-direction:column;gap:12px;padding:18px}.main{display:flex;flex-direction:column;gap:12px}.layout-header{display:grid;grid-template-columns:minmax(260px,320px) 1fr auto;grid-template-areas:"title toolbar account";gap:18px;align-items:center}.layout-title{grid-area:title}.layout-toolbar{grid-area:toolbar;display:flex;justify-content:flex-end;align-items:center}.layout-account{grid-area:account;position:relative;display:flex;align-items:center;gap:10px;justify-self:end}.avatar-button{width:40px;height:40px;border-radius:999px;overflow:hidden;border:1px solid rgba(26,32,27,.14);background:#fff7ea}.avatar-img{width:100%;height:100%;object-fit:cover;display:block}.avatar-fallback{display:inline-flex;align-items:center;justify-content:center;width:100%;height:100%;color:var(--ink)}.auth-menu{position:absolute;right:0;top:calc(100% + 10px);min-width:200px;background:#fffaf2;border:1px solid rgba(26,32,27,.14);border-radius:16px;padding:12px;display:flex;flex-direction:column;gap:10px;box-shadow:var(--shadow);z-index:5}.auth-menu .auth-user{font-size:.9rem}.auth-modal{position:fixed;top:0;right:0;bottom:0;left:0;background:#14141073;display:flex;align-items:center;justify-content:center;padding:24px;z-index:50}.auth-modal-card{width:min(400px,90vw);background:#fffaf2;border-radius:22px;padding:22px;display:flex;flex-direction:column;gap:16px;box-shadow:var(--shadow)}.history-modal-card{width:min(720px,94vw)}.history-modal .auth-modal-header{margin-bottom:4px}.history-body{display:grid;grid-template-columns:1fr 1fr;gap:16px}.history-list{display:flex;flex-direction:column;gap:8px;max-height:320px;overflow-y:auto}.history-item{border:1px solid rgba(26,32,27,.12);background:#fffdf7;border-radius:12px;padding:10px 12px;text-align:left;font-weight:600;cursor:pointer}.history-item.is-active{border-color:var(--accent-strong);background:#fdf0d3}.history-preview{border:1px solid rgba(26,32,27,.12);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:12px}.history-preview-canvas{width:100%;height:180px;border-radius:12px;overflow:hidden;background:#184434;border:1px solid rgba(26,32,27,.1)}.history-preview-canvas canvas{width:100%;height:100%;display:block}.help-modal-card{width:min(560px,92vw);position:relative;padding:16px;height:min(560px,90vh)}.help-button{padding:8px 14px}.help-modal-close{position:absolute;top:14px;right:14px}.help-modal-close .icon-button{border-color:transparent;background:transparent;border-radius:12px}.help-modal-close .icon-button:hover{border-color:#1a201b24;background:#f7f0e4}.help-carousel{display:flex;flex-direction:column;gap:12px;margin-top:0;flex:1 1 auto;min-height:0}.help-slides{flex:1 1 auto;min-height:0}.help-slide{display:none}.help-slide.is-active{display:flex;flex-direction:column;gap:6px;height:100%}.help-slide-title{margin:0;font-size:1.05rem;font-weight:600}.help-slide-text{margin:8px 0 0;color:var(--muted);font-size:.95rem}.help-visual{margin-top:12px;border-radius:16px;overflow:hidden;border:1px solid rgba(26,32,27,.12);background:#184434;flex:1 1 auto;min-height:180px;position:relative}.help-visual-canvas canvas{width:100%;height:100%;display:block}.help-mini-controls{display:flex;align-items:center;gap:10px;margin-top:12px}.help-mini-play{width:28px;height:28px;border-radius:10px;border:1px solid rgba(26,32,27,.18);background:#fdf0d3;display:inline-flex;align-items:center;justify-content:center}.help-mini-play-icon{width:0;height:0;border-left:9px solid #1b1306;border-top:6px solid transparent;border-bottom:6px solid transparent;margin-left:2px}.help-mini-scrubber{flex:1 1 auto;height:6px;border-radius:999px;background:#e5dfd2;position:relative;overflow:hidden}.help-mini-scrubber-dot{width:12px;height:12px;border-radius:50%;background:var(--accent);position:absolute;top:-3px;left:0;animation:helpScrubber 4s ease-in-out infinite;box-shadow:0 4px 10px #d9801c66}.help-visual-share{background:#fffdf7;display:flex;align-items:center;justify-content:center}.help-share-wrapper{position:relative;width:min(360px,88%);height:100%}.help-share-toolbar{display:flex;justify-content:center;align-items:center;padding:10px 0}.help-share-group{position:relative;display:flex;align-items:center;gap:10px}.help-share-dropdown{padding:8px 14px;border-radius:12px;border:1px solid rgba(26,32,27,.18);background:#fffdf7;font-size:.9rem;color:var(--muted);position:relative;min-width:140px}.help-share-dropdown:after{content:"";position:absolute;right:12px;top:50%;width:7px;height:7px;border-right:2px solid rgba(26,32,27,.5);border-bottom:2px solid rgba(26,32,27,.5);transform:translateY(-60%) rotate(45deg)}.help-share-dots{width:30px;height:30px;border-radius:12px;border:1px solid rgba(26,32,27,.18);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;background:#f7f0e4}.help-share-dots span{width:4px;height:4px;border-radius:50%;background:#1b1306}.help-share-menu{position:absolute;top:42px;right:0;background:#fffdf7;border-radius:12px;border:1px solid rgba(26,32,27,.12);padding:6px;display:flex;flex-direction:column;gap:4px;min-width:130px;opacity:0;transform:translateY(-6px);animation:helpShareMenu 6s ease-in-out infinite}.help-share-item{padding:8px 12px;border-radius:8px;font-weight:600;font-size:.85rem}.help-share-item-share{animation:helpShareHighlight 6s ease-in-out infinite}.help-share-cursor{position:absolute;width:12px;height:12px;border-radius:50%;border:2px solid #1b1306;background:#fffdf7;animation:helpShareCursor 6s ease-in-out infinite}.help-footer{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.help-dots{display:inline-flex;gap:8px;align-items:center}.help-dot{width:10px;height:10px;border-radius:999px;border:1px solid rgba(26,32,27,.2);background:#f7f0e4;padding:0;cursor:pointer}.help-dot.is-active{background:var(--accent);border-color:var(--accent-strong)}.help-actions{display:flex;gap:8px}@keyframes helpScrubber{0%{left:0}60%{left:calc(100% - 12px)}to{left:0}}@keyframes helpShareMenu{0%,20%{opacity:0;transform:translateY(-6px)}30%,70%{opacity:1;transform:translateY(0)}85%,to{opacity:0;transform:translateY(-6px)}}@keyframes helpShareHighlight{0%,35%{background:transparent}45%,65%{background:#fdf0d3}85%,to{background:transparent}}@keyframes helpShareCursor{0%{opacity:0;left:40px;top:110px}15%{opacity:1}40%{left:calc(50% + 76px);top:12px}60%{left:calc(50% + 52px);top:66px}80%{opacity:0}to{opacity:0;left:40px;top:110px}}@media(max-width:640px){.help-footer{flex-direction:column;align-items:stretch}.help-dots{width:100%;justify-content:center}.help-actions{width:100%}.help-actions .secondary,.help-actions .primary{flex:1 1 auto}}.share-link-list{display:flex;flex-direction:column;gap:12px}.share-link-row{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 12px;border-radius:12px;border:1px solid rgba(26,32,27,.12);background:#fffdf7}@media(max-width:720px){.history-body{grid-template-columns:1fr}.share-link-row{flex-direction:column;align-items:flex-start}}.auth-modal-header{display:flex;align-items:center;justify-content:space-between;gap:12px}.auth-modal-header .icon-button{border-color:transparent;background:transparent;border-radius:12px}.auth-modal-header .icon-button:hover{border-color:#1a201b24;background:#f7f0e4}.auth-modal-title{margin:0;font-size:1.2rem}.auth-modal-subtitle{margin:6px 0 0;font-size:.9rem;color:var(--muted)}.auth-provider-buttons{display:flex;flex-direction:column;gap:10px}.auth-provider-buttons .secondary,.auth-provider-buttons .primary{width:100%;justify-content:center}.auth-divider{display:flex;align-items:center;gap:10px;color:var(--muted);font-size:.8rem}.auth-divider:before,.auth-divider:after{content:"";flex:1 1 auto;height:1px;background:#1a201b1f}.auth-email-row{display:flex;flex-direction:column;gap:10px}.topbar{display:flex;flex-wrap:wrap;justify-content:space-between;gap:12px;align-items:center}.eyebrow{text-transform:uppercase;letter-spacing:.2em;font-size:.7rem;margin:0 0 6px;color:var(--muted)}h1{font-size:clamp(1.6rem,3.2vw,2.4rem);margin:0}.subtitle{margin:6px 0 0;color:var(--muted)}.status{background:#141815;color:#fdfcf9;padding:10px 16px;border-radius:999px;font-size:.85rem;box-shadow:var(--shadow);position:fixed;left:50%;bottom:24px;transform:translate(-50%);z-index:60;pointer-events:none}.layout{display:grid;grid-template-columns:minmax(260px,320px) 1fr;gap:24px;align-items:start}.panel{display:flex;flex-direction:column;gap:20px;padding:22px;background:var(--panel);border:1px solid var(--panel-border);border-radius:22px;box-shadow:var(--shadow)}@media(min-width:901px){.panel{position:sticky;top:18px;max-height:calc(100vh - 36px);overflow-y:auto;overscroll-behavior:contain}}.panel-block{display:flex;flex-direction:column;gap:12px}.panel-block h2{margin:0;font-size:1.1rem}.panel-block.collapsible{gap:10px}.panel-block.controls-collapsible summary{font-size:1.15rem}.panel-block.collapsible summary{list-style:none;display:flex;align-items:center;justify-content:space-between;font-size:1.05rem;font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.panel-block.collapsible:not([open]) summary{margin-bottom:0}.panel-block.collapsible summary::-webkit-details-marker{display:none}.panel-block.collapsible summary::marker{content:""}.panel-block.collapsible summary:after{content:"";width:10px;height:10px;border-right:2px solid currentColor;border-bottom:2px solid currentColor;transform:rotate(45deg);transition:transform .2s ease;margin-left:auto}.panel-block.collapsible[open] summary:after{transform:rotate(225deg)}.panel-content{display:flex;flex-direction:column;gap:12px}.toggle-row{display:flex;align-items:center;justify-content:space-between;gap:12px;font-size:.85rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}input.toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:46px;height:24px;border-radius:999px;border:1px solid var(--panel-border);background:#efe7d8;position:relative;cursor:pointer;transition:background .2s ease,border-color .2s ease}input.toggle:after{content:"";position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:#fffdf7;box-shadow:0 2px 6px #11120e33;transition:transform .2s ease}input.toggle:checked{background:#141815;border-color:#141815}input.toggle:checked:after{transform:translate(22px)}.controls-content{gap:16px}.hint{margin:0;color:var(--muted);font-size:.9rem}.segmented{display:grid;grid-template-columns:1fr 1fr;border-radius:999px;border:1px solid var(--panel-border);background:#f7f0e4;overflow:hidden}.segmented-button{border:none;padding:10px 12px;background:transparent;font-weight:600;cursor:pointer;color:var(--ink);-webkit-tap-highlight-color:transparent}.segmented-button.active{background:#141815;color:#fff}.field-label{display:flex;flex-direction:column;gap:6px;font-size:.85rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}input[type=number],input[type=range],input[type=text],input[type=email],select{width:100%;font-family:Space Mono,monospace;padding:8px 10px;border-radius:12px;border:1px solid var(--panel-border);background:#fffdf7;color:var(--ink)}select{padding:8px 36px 8px 10px;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 12 8'><path d='M1 1l5 5 5-5' fill='none' stroke='%235a6157' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>");background-repeat:no-repeat;background-position:right 12px center;background-size:10px 6px}input[type=number]{-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=range]{padding:0;accent-color:var(--accent-strong)}select:disabled{color:var(--muted);background:#f1ebe0}button{font-family:Outfit,sans-serif;color:inherit;-webkit-tap-highlight-color:transparent}.primary,.secondary,.tertiary{border-radius:12px;border:1px solid transparent;padding:10px 14px;font-weight:600;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.primary{background:var(--accent);color:#1b1306;box-shadow:0 10px 18px #d9801c47}.secondary{background:transparent;border-color:var(--panel-border);color:var(--ink)}.tertiary{background:#f7f0e4;border-color:transparent;color:var(--ink);padding:8px 10px;font-size:.85rem}.primary:disabled,.secondary:disabled,.tertiary:disabled{opacity:.5;cursor:not-allowed;box-shadow:none}.primary:not(:disabled):hover,.secondary:not(:disabled):hover,.tertiary:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 12px 20px #0000001f}.button-row{display:grid;grid-template-columns:1fr 1fr;gap:10px}.play-actions{display:grid;grid-template-columns:auto auto 1fr;gap:10px;align-items:center}.split-button{position:relative;display:flex;align-items:stretch;width:100%}.split-button>button{display:inline-flex;align-items:center;justify-content:center}.split-button>button:first-child{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0}.split-button>button.icon-button{border-top-left-radius:0;border-bottom-left-radius:0;width:40px;height:auto}.split-menu{position:absolute;right:0;top:calc(100% + 6px);min-width:160px;padding:6px;border-radius:12px;border:1px solid var(--panel-border);background:#fffdf7;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:4px;z-index:20}.split-menu-item{border:none;border-radius:10px;padding:8px 10px;text-align:left;font-weight:600;background:transparent;cursor:pointer}.split-menu-item:hover{background:#f7f0e4}.saved-play-row{display:flex;align-items:center;gap:8px;width:100%}.role-indicator{position:relative;width:32px;height:32px;border-radius:999px;border:1px solid rgba(26,32,27,.12);background:#f7f0e4;color:var(--muted);display:inline-flex;align-items:center;justify-content:center;padding:0}.role-indicator svg,.role-indicator .icon{width:16px;height:16px}.role-indicator:after{content:attr(data-tooltip);position:absolute;top:calc(100% + 8px);left:50%;transform:translate(-50%);background:#141815;color:#fffdf7;font-size:.7rem;padding:6px 10px;border-radius:999px;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease}.role-indicator:before{content:"";position:absolute;top:calc(100% + 2px);left:50%;transform:translate(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #141815;opacity:0;transition:opacity .2s ease}.role-indicator:hover:after,.role-indicator:hover:before,.role-indicator:focus-visible:after,.role-indicator:focus-visible:before,.role-indicator.is-open:after,.role-indicator.is-open:before{opacity:1}.saved-play-row select{flex:1 1 auto;min-width:0}.saved-play-row .icon-button{width:36px;height:36px}.menu-wrapper .icon-button{border-color:transparent;background:transparent}.menu-wrapper .icon-button:hover{border-color:#1a201b29;background:#f7f0e4}.menu-wrapper{position:relative;display:flex;align-items:center}.context-menu{min-width:150px}.share-banner{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;border:1px solid rgba(26,32,27,.12);background:#fbf7ee;font-size:.85rem}.share-banner-text{flex:1 1 auto;color:var(--muted);font-weight:600}.auth-user{font-weight:600;font-size:.9rem}.player-card{padding:10px 12px;border-radius:12px;background:#f1ebe0;border:1px dashed rgba(26,32,27,.18);font-family:Space Mono,monospace}.player-card.empty{color:var(--muted)}.waypoint-section{display:flex;flex-direction:column;gap:8px}.waypoint-header{display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:.9rem}.waypoint-list{display:flex;flex-direction:column;gap:8px}.waypoint-row{display:grid;grid-template-columns:1fr auto;grid-template-areas:"label remove";column-gap:8px;row-gap:10px;align-items:center;padding:8px;border-radius:12px;background:#f7f0e4}.waypoint-row.is-leg{grid-template-areas:"label remove" "speed speed"}.waypoint-row.is-waypoint{display:flex;flex-direction:column;gap:10px}.waypoint-row.is-waypoint .waypoint-toggle{width:100%}.waypoint-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:0;padding:0;margin:0;display:flex;align-items:center;justify-content:space-between;font:inherit;font-size:.85rem;font-weight:600;color:inherit;cursor:pointer;width:100%;text-align:left}.waypoint-caret{width:8px;height:8px;border-right:2px solid currentColor;border-bottom:2px solid currentColor;transform:rotate(45deg);transition:transform .2s ease;margin-left:12px;opacity:.7;flex:0 0 auto}.waypoint-row.is-waypoint.is-open .waypoint-caret{transform:rotate(225deg)}.waypoint-content{display:grid;grid-template-columns:1fr;grid-template-areas:"delay" "action";row-gap:10px;width:100%}.waypoint-row.is-waypoint:not(.is-open) .waypoint-content{display:none}.waypoint-label{grid-area:label;font-size:.85rem;font-weight:600}.waypoint-speed{grid-area:speed;width:100%;padding:6px 8px}.waypoint-delay{grid-area:delay;width:100%;padding:6px 8px}.waypoint-action{grid-area:action;width:100%;padding:6px 8px}.waypoint-field{display:flex;flex-direction:column;gap:6px;font-size:.7rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);width:100%}.waypoint-speed-field{grid-area:speed}.waypoint-delay-field{grid-area:delay}.waypoint-action-field{grid-area:action}.icon-button{width:38px;height:38px;padding:0;display:inline-flex;align-items:center;justify-content:center;color:var(--ink);-webkit-tap-highlight-color:transparent}.icon-button svg,.icon-button .icon{width:18px;height:18px;display:block}.icon{width:18px;height:18px;display:block}.icon-only{display:inline-flex;align-items:center;justify-content:center;min-width:44px}.waypoint-row .icon-button{grid-area:remove;align-self:center}.waypoint-empty{font-size:.85rem;color:var(--muted);padding:6px 4px}.playback-controls{display:flex;flex-direction:column;gap:12px}.time-readout{font-family:Space Mono,monospace;color:var(--muted)}.ball-status{font-size:.9rem;color:var(--muted)}.is-hidden{display:none!important}.coverage-panel{display:flex;flex-direction:column;gap:12px;padding:10px 12px;border-radius:14px;background:#f7f0e4;border:1px dashed rgba(26,32,27,.18)}.coverage-man,.coverage-zone,.field{display:flex;flex-direction:column;gap:12px}.field-toolbar{display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px;align-items:center;width:100%}.toolbar-group{display:flex;align-items:center;gap:8px}.toolbar-playback{margin-left:auto;flex:1 1 auto;flex-wrap:nowrap;justify-content:flex-end;min-width:320px}.toolbar-scrubber{flex:1 1 auto;min-width:240px;max-width:none}.scrubber-row{display:flex;align-items:center;gap:10px;flex-wrap:nowrap}.scrubber-row input[type=range]{flex:1 1 auto;min-width:140px}.scrubber-row .time-readout{min-width:70px;text-align:right;white-space:nowrap}.field-surface{position:relative;border-radius:18px;overflow:hidden;background:linear-gradient(135deg,#2f6c4a,#1b4a35);aspect-ratio:50 / 30;min-height:420px;box-shadow:var(--shadow)}.field-mode-toggle{position:absolute;top:16px;right:16px;display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid var(--panel-border);background:#fffaf2f0;color:var(--ink);font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s ease,opacity .2s ease,padding .2s ease}.field-mode-toggle .field-mode-label{white-space:nowrap;max-width:140px;overflow:hidden;opacity:1;transition:max-width .2s ease,opacity .2s ease}.field-mode-toggle.is-collapsed{padding:8px;width:36px;height:36px;justify-content:center}.field-mode-toggle.is-collapsed .field-mode-label{max-width:0;opacity:0}.field-mode-toggle:disabled{opacity:.6;cursor:not-allowed}#field-canvas{display:block;width:100%;height:100%;touch-action:none}.field-overlay{position:absolute;left:24px;bottom:20px;padding:10px 14px;background:#10130fb8;color:#fdfcf9;border-radius:999px;font-size:.85rem;pointer-events:none}body.field-fullscreen{overflow:hidden}body.field-fullscreen .layout-header,body.field-fullscreen .panel{display:none}body.field-fullscreen .layout{grid-template-columns:1fr;gap:0}body.field-fullscreen .field{position:fixed;top:0;right:0;bottom:0;left:0;padding:24px;background:#101310;z-index:80}body.field-fullscreen .field-surface{height:100%;min-height:0;aspect-ratio:auto}@media(max-width:900px){#app{padding:12px}.layout-header{grid-template-columns:1fr auto;grid-template-areas:"title account" "toolbar toolbar";gap:10px}.layout{grid-template-columns:1fr;gap:16px;display:flex;flex-direction:column}.field{order:-1;width:100%}.panel{order:1;width:100%}.panel{padding:14px;border-radius:18px;gap:14px}.panel-block{gap:8px}.panel-block.collapsible summary{font-size:.95rem;padding:4px 0}.toggle-row{font-size:.78rem}input.toggle{width:40px;height:22px}input.toggle:after{width:16px;height:16px}input.toggle:checked:after{transform:translate(18px)}.panel-block.controls-collapsible summary{font-size:1.02rem}.controls-content{gap:12px}.panel.controls-collapsed{gap:0;padding-bottom:12px}.panel.controls-collapsed .controls-content{display:none}.panel-block.collapsible summary:after{width:8px;height:8px}.panel-content{gap:10px}.play-actions{grid-template-columns:1fr 1fr}.play-actions .split-button{grid-column:1 / -1}.status{width:100%;text-align:center}.field-toolbar{flex-wrap:nowrap;gap:8px}.layout-account{justify-content:flex-end}.toolbar-group{gap:6px}.toolbar-playback,.toolbar-scrubber{min-width:0}.primary,.secondary,.tertiary{padding:8px 10px}.field-surface{min-height:0;border-radius:14px}.field-overlay{left:12px;bottom:12px;font-size:.78rem}.field-overlay{display:none}}
