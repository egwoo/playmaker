<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Playmaker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app">
      <main class="main">
        <div class="layout-header">
          <div class="layout-title">
            <h1>Playmaker</h1>
          </div>
          <div class="layout-toolbar">
            <div class="field-toolbar">
              <div class="toolbar-group">
                <button
                  type="button"
                  id="undo-action"
                  class="secondary icon-button"
                  aria-label="Undo"
                  title="Undo"
                  disabled
                >
                  <span data-lucide="undo" aria-hidden="true"></span>
                </button>
                <button
                  type="button"
                  id="redo-action"
                  class="secondary icon-button"
                  aria-label="Redo"
                  title="Redo"
                  disabled
                >
                  <span data-lucide="redo" aria-hidden="true"></span>
                </button>
              </div>
              <div class="toolbar-group toolbar-playback">
                <button type="button" id="play-toggle" class="primary icon-only" aria-label="Play">
                  <span data-lucide="play" aria-hidden="true"></span>
                </button>
                <button
                  type="button"
                  id="reset-time"
                  class="secondary icon-button"
                  aria-label="Reset play time"
                  title="Reset to start"
                >
                  <span data-lucide="rotate-ccw" aria-hidden="true"></span>
                </button>
                <label class="field-label toolbar-scrubber">
                  <div class="scrubber-row">
                    <input id="scrubber" type="range" min="0" max="0" step="0.01" value="0" />
                  </div>
                </label>
              </div>
            </div>
            <div class="status is-hidden" id="status-text">Ready.</div>
          </div>
        </div>

        <div class="layout">
          <section class="panel" aria-label="Controls">
            <details class="panel-block collapsible controls-collapsible" data-panel="controls" open>
              <summary>Controls</summary>
              <div class="panel-content controls-content">
                <div class="panel-block">
                  <div class="auth-panel" id="auth-panel">
                    <div class="auth-signed-out" id="auth-signed-out">
                      <label class="field-label">
                        Sign in
                        <input id="auth-email" type="email" placeholder="you@example.com" />
                      </label>
                      <div class="button-row auth-buttons">
                        <button type="button" id="auth-email-button" class="secondary">
                          Send magic link
                        </button>
                        <button type="button" id="auth-google-button" class="secondary">
                          Google
                        </button>
                      </div>
                    </div>
                    <div class="auth-signed-in is-hidden" id="auth-signed-in">
                      <div class="auth-user" id="auth-user-email"></div>
                      <button type="button" id="auth-signout" class="secondary">Sign out</button>
                    </div>
                  </div>
                  <div class="saved-play-row">
                    <select id="playbook-select" aria-label="Playbook"></select>
                    <button type="button" id="new-playbook" class="secondary">New</button>
                  </div>
                  <div class="saved-play-row">
                    <select id="saved-plays-select" aria-label="Saved plays"></select>
                    <button
                      type="button"
                      id="rename-play"
                      class="secondary icon-button"
                      aria-label="Rename play"
                      title="Rename"
                    >
                      <span data-lucide="pencil-line" aria-hidden="true"></span>
                    </button>
                    <button
                      type="button"
                      id="delete-play"
                      class="secondary icon-button"
                      aria-label="Delete play"
                      title="Delete"
                    >
                      <span data-lucide="trash-2" aria-hidden="true"></span>
                    </button>
                  </div>
                  <div class="play-actions">
                    <button type="button" id="new-play" class="secondary">New</button>
                    <button type="button" id="flip-play" class="secondary">Flip</button>
                    <div class="split-button" id="save-split">
                      <button type="button" id="save-play" class="secondary">Save</button>
                      <button
                        type="button"
                        id="save-menu-toggle"
                        class="secondary icon-button"
                        aria-label="Save options"
                        aria-haspopup="true"
                        aria-expanded="false"
                      >
                        <span data-lucide="chevron-down" aria-hidden="true"></span>
                      </button>
                      <div class="split-menu is-hidden" id="save-menu" role="menu">
                        <button type="button" id="save-as-new" class="split-menu-item" role="menuitem">
                          Save as new
                        </button>
                        <button type="button" id="share-play" class="split-menu-item" role="menuitem">
                          Copy share link
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="play-meta">
                    <label class="field-label">
                      Notes
                      <textarea id="play-notes" rows="3" placeholder="Optional play notes"></textarea>
                    </label>
                    <label class="field-label">
                      Tags
                      <input
                        id="play-tags"
                        type="text"
                        placeholder="run, left, blitz"
                      />
                    </label>
                  </div>
                  <label class="toggle-row">
                    <span>Show waypoint markers</span>
                    <input id="show-waypoints-toggle" class="toggle" type="checkbox" />
                  </label>
                </div>
                <div class="panel-block">
                  <p class="hint">Click on the field to place a player.</p>
                  <div class="segmented" role="group" aria-label="Team selection">
                    <button type="button" data-team="offense" class="segmented-button active">
                      Offense
                    </button>
                    <button type="button" data-team="defense" class="segmented-button">
                      Defense
                    </button>
                  </div>
                </div>
                <div class="panel-block">
                  <label class="field-label">
                    Player
                    <select id="selected-player-select" class="player-select"></select>
                  </label>
                  <label class="field-label player-name">
                    Player name
                    <input id="player-name-input" type="text" maxlength="20" value="" />
                  </label>
                  <div id="coverage-panel" class="coverage-panel">
                    <label class="field-label">
                      Coverage type
                      <select id="coverage-type-select"></select>
                    </label>
                    <div class="coverage-man">
                      <label class="field-label">
                        Coverage assignment
                        <select id="coverage-target-select"></select>
                      </label>
                      <label class="field-label">
                        Defender speed (yd/s)
                        <input
                          id="coverage-speed-input"
                          type="number"
                          min="0.1"
                          step="0.1"
                          value="6"
                        />
                      </label>
                    </div>
                    <div class="coverage-zone">
                      <label class="field-label">
                        Zone horizontal (yd)
                        <input
                          id="zone-radius-x-input"
                          type="number"
                          min="0.5"
                          step="0.5"
                          value="10"
                        />
                      </label>
                      <label class="field-label">
                        Zone vertical (yd)
                        <input
                          id="zone-radius-y-input"
                          type="number"
                          min="0.5"
                          step="0.5"
                          value="5"
                        />
                      </label>
                      <label class="field-label">
                        Defender speed (yd/s)
                        <input id="zone-speed-input" type="number" min="0.1" step="0.1" value="6" />
                      </label>
                    </div>
                  </div>
                  <div class="button-row player-actions" id="player-actions">
                    <button type="button" id="deselect-player" class="secondary" disabled>
                      Deselect
                    </button>
                    <button type="button" id="delete-player" class="secondary" disabled>Delete</button>
                  </div>
                  <div class="waypoint-section">
                    <div class="waypoint-header">
                      <span>Waypoints</span>
                      <span class="hint">Tap field to add</span>
                    </div>
                    <div id="waypoint-list" class="waypoint-list"></div>
                  </div>
                </div>
              </div>
            </details>
          </section>

        <section class="field" aria-label="Field canvas">
          <div class="field-surface">
            <canvas id="field-canvas"></canvas>
            <div class="field-overlay" id="field-overlay">
              Tap to add players. Select a player, then tap to add waypoints.
            </div>
          </div>
        </section>
        </div>
      </main>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
